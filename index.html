<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>3600 detik</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
  <script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
  <style>
  html {
    position: relative;
    min-height: 100%;
  }

  body {
    margin-bottom: 100px;
  }

  .is-size-super {
    font-size: 7rem !important;
  }

  #second_progress {
    display: none;
  }

  .footer {
    position: absolute;
    bottom: 0;
    padding: 2rem 1.5rem 2rem !important;
    width: 100%;
  }

  .rotate {
    transform: rotate(90deg);
  }
  </style>
</head>

<body>
<section class="section">
  <div class="container">

    <div class="columns">
      <div class="column has-text-centered">
        <h1 id="second_text" class="title is-size-super has-text-weight-light">3600</h1>
        <progress id="second_progress" class="progress is-primary" value="" max="3600"></progress>
        <button id="start_button" class="button is-primary is-outlined is-large has-text-weight-light is-rounded" onclick="start()">Mulai</button>
      </div>
    </div>

    <div class="columns">
      <div class="column has-text-centered">
          <p id="tips_text" class="has-text-weight-light">
            Cukup luangkan waktu selama 3600 detik setiap hari untuk membaca
          </p>

          <audio id="audio">
            <source src="hotline_bling.mp3" type="audio/mpeg">
          </audio>
      </div>
    </div>

  </div>
</section>

<footer class="footer">
  <div class="content has-text-centered">
    <p class="has-text-weight-light">
      Made with <i class="fas fa-heart has-text-danger"></i>
      by <a href="https://miftahafina.com">Miftah Afina</a>.
    </p>
  </div>
</footer>
</body>

<script>
var second = 3600;
var interval;

var second_text     = document.getElementById('second_text');
var start_button    = document.getElementById('start_button');
var second_progress = document.getElementById('second_progress');
var tips_text       = document.getElementById('tips_text');
var audio           = document.getElementById('audio');

function start() {
  interval = setInterval(count, 1000);

  start_button.style.display    = 'none';
  second_progress.style.display = 'block';
  console.log('start');
}

function count() {
  second -= 1;

  second_text.innerHTML = second;
  second_progress.setAttribute('value', second);

  if (second <= 0) {
    clearInterval(interval);

    second_text.innerHTML = ':)';
    second_text.classList.add('rotate');
    tips_text.innerHTML = 'Yay, kamu berhasil meluangkan waktu selama 3600 detik untuk membaca!';
    
    window.navigator.vibrate([200,50,200,50]);

    audio.play();
    console.log('count: sudah cukup');
  }
}
</script>

</html>